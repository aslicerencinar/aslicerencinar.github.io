<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>RESEARCH – ABOUT</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-c6da0969af703fe3e40e43a7726e8306.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">ABOUT</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./research.html" aria-current="page"> 
<span class="menu-text">RESEARCH</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./CV.html"> 
<span class="menu-text">CV</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#persistence-of-voice-pitch-bias-against-policy-differences" id="toc-persistence-of-voice-pitch-bias-against-policy-differences" class="nav-link active" data-scroll-target="#persistence-of-voice-pitch-bias-against-policy-differences">Persistence of Voice Pitch Bias Against Policy Differences</a></li>
  <li><a href="#perceived-masculinity-is-not-a-vote-winner-a-visual-survey-experiment" id="toc-perceived-masculinity-is-not-a-vote-winner-a-visual-survey-experiment" class="nav-link" data-scroll-target="#perceived-masculinity-is-not-a-vote-winner-a-visual-survey-experiment">Perceived masculinity is not a vote winner: A visual survey experiment</a></li>
  <li><a href="#identity-priming-in-campaigning-field-experimental-evidence-from-women-candidates-in-germany" id="toc-identity-priming-in-campaigning-field-experimental-evidence-from-women-candidates-in-germany" class="nav-link" data-scroll-target="#identity-priming-in-campaigning-field-experimental-evidence-from-women-candidates-in-germany">Identity Priming in Campaigning: Field Experimental Evidence from Women Candidates in Germany</a></li>
  <li><a href="#vocal-chameleons-gender-dynamics-in-nonverbal-expressions-in-campaigning" id="toc-vocal-chameleons-gender-dynamics-in-nonverbal-expressions-in-campaigning" class="nav-link" data-scroll-target="#vocal-chameleons-gender-dynamics-in-nonverbal-expressions-in-campaigning">Vocal Chameleons: Gender dynamics in nonverbal expressions in campaigning</a></li>
  <li><a href="#do-gotv-interventions-really-increase-turnout-inequality-a-conceptual-and-empirical-reassessment" id="toc-do-gotv-interventions-really-increase-turnout-inequality-a-conceptual-and-empirical-reassessment" class="nav-link" data-scroll-target="#do-gotv-interventions-really-increase-turnout-inequality-a-conceptual-and-empirical-reassessment">Do GOTV interventions really increase turnout inequality? A conceptual and empirical reassessment</a></li>
  <li><a href="#ai-generated-visuals-a-solution-for-image-demand-in-social-science-research" id="toc-ai-generated-visuals-a-solution-for-image-demand-in-social-science-research" class="nav-link" data-scroll-target="#ai-generated-visuals-a-solution-for-image-demand-in-social-science-research">AI-Generated Visuals: A Solution for Image Demand in Social Science Research</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content page-columns page-full column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">RESEARCH</h1>
</div>



<div class="quarto-title-meta column-page-right">

    
  
    
  </div>
  


</header>


<h2 id="persistence-of-voice-pitch-bias-against-policy-differences" class="anchored">Persistence of Voice Pitch Bias Against Policy Differences</h2>
<p>with <a href="http://myweb.sabanciuniv.edu/ozgurkibris/">Ozgur Kibris</a> in <a href="https://www.cambridge.org/core/journals/political-science-research-and-methods/article/persistence-of-voice-pitch-bias-against-policy-differences/DE9A5A4222E31CD21FEAE666BE29D3C3">Political Science Research and Methods</a></p>
<p><sub><strong>Abstract:</strong> <em>Voters evaluate politicians not just on their policy positions and partisanship, but also on how they look and sound. But to what extent might these latter characteristics be traded for a more preferable policy stance? In this paper, we use an online experiment to study the relative effect on voter behavior of candidate voice pitch and policy differences between candidates. We first demonstrate a strong : in an election between candidates who are identical in every aspect but voice pitch, voters are significantly more likely to choose the one with the lower voice pitch. Voice pitch bias is higher in elections between men than women candidates. We then introduce a novel phenomenon. Persistence of voice pitch bias is the amount of policy difference needed to compensate for voice pitch bias. While persistence is also gender-dependent, the effect is now reversed: voice pitch bias is more persistent in elections between women than men candidates. Finally, as a possible mechanism we show that voters perceive candidates with a lower voice pitch as more competent and trustworthy. Our findings are robust against voters’ gender and other socio-economic characteristics.</em></sub></p>
<h2 id="perceived-masculinity-is-not-a-vote-winner-a-visual-survey-experiment" class="anchored">Perceived masculinity is not a vote winner: A visual survey experiment</h2>
<p><a href="assets/EPSA_2023__Facial_masculinity.pdf">Slide presentation</a> – 2023 EPSA</p>
<p><sub><strong>Abstract:</strong> <em>The rise of new technologies has opened up novel opportunities to study the visual aspects of political communication through images and videos on social media and news platforms. This shift highlights the need to investigate the heterogeneity in candidate preferences as conveyed through their visual representation. In this study, I explore whether candidates’ perceived facial masculinity influences voter preferences for candidates’ gender and race in the United States as a gendered visual cue. Adopting a novel visual experiment, I generated virtual candidates using a tool that allows comprehensive facial feature customisation. Against expectations, I find a general preference for less facial masculinity in political candidates, primarily shaped by the preferences of self-identified liberal voters. Women, particularly African American women candidates, are worse off when they are perceived to look more masculine than feminine. One mechanism that can explain the finding on women candidates is the lower degree of perceived attractiveness for more masculine-looking candidates.</em> </sub></p>
<h2 id="identity-priming-in-campaigning-field-experimental-evidence-from-women-candidates-in-germany" class="anchored">Identity Priming in Campaigning: Field Experimental Evidence from Women Candidates in Germany</h2>
<p>with <a href="https://www.marketingcenter.de/en/mcm/ifm/team/frederik-johannes-ferie/publications">Frederik Ferié</a> and <a href="http://www.florianfoos.net">Florian Foos</a></p>
<p><a href="assets/EPSA2023_identity.pdf">Slide presentation</a> – 2023 EPSA</p>
<p><sub><strong>Abstract:</strong> <em>For female candidates, gender is not only a social characteristic, but also an important social identity and lived experience, which they discuss with voters on the campaign trail. However, while there is solid evidence on how gender influences vote choice, we know little about the effects of identity priming on how voters evaluate female candidates. This study seeks to advance our understanding of how messages that emphasize candidates’ social identities, including their gender identity, influence voter evaluations. Based on two field experiments that we conducted in collaboration with two female state parliamentary candidates in Germany, we show that emphasizing a candidates’ gender and discussing gender in combination with other social identities, can positively affect how voters view candidates. However, there is little evidence that this effect materialises via identity alignment between voters and candidates, or that priming gender identity independently affects vote choice when other social identities are primed.</em></sub></p>
<p></p>
<h2 id="vocal-chameleons-gender-dynamics-in-nonverbal-expressions-in-campaigning" class="anchored">Vocal Chameleons: Gender dynamics in nonverbal expressions in campaigning</h2>
<p><a href="assets/Cinar_EPSA2024_presentation.pdf">Slide presentation</a> – 2024 EPSA</p>
<p><sub><strong>Abstract:</strong> <em>In politics, building a candidate’s image and winning over the public takes effective verbal and nonverbal communication. The use of rhetoric by politicians has been the subject of many studies. Still, the importance of nonverbal communication, particularly when considering the gender dynamics of both politicians and voters, has received comparatively less attention. The purpose of this study is to examine the gender dynamics at play in the use of nonverbal expressions, focusing on voice pitch modulation, during face-to-face campaign interactions by analysing video recordings from the Democratic Party’s primary town hall meetings for the 2020 U.S. presidential election. Results indicate that women candidates increase their voice pitch when engaging with men audience members, whereas men candidates lower their pitch when addressing women audience members. These findings are consistent with gendered expectations and attractiveness perceptions informed by evolutionary psychology research. This study adds to our understanding of gendered political communication dynamics by incorporating nonverbal expressions in elite behaviour.</em></sub></p>
<p></p>
<h2 id="do-gotv-interventions-really-increase-turnout-inequality-a-conceptual-and-empirical-reassessment" class="anchored">Do GOTV interventions really increase turnout inequality? A conceptual and empirical reassessment</h2>
<p>with Francisco Tomás-Valiente Jordá, <a href="http://www.florianfoos.net">Florian Foos</a> and <a href="https://www.kcl.ac.uk/people/peter-john">Peter John</a></p>
<p><a href="assets/GOTV_EPSA.pdf">Slide presentation</a> – 2024 EPSA</p>
<p><sub> <strong>Abstract:</strong> <em>Those who seek to improve democratic participation in elections face a dilemma: Get-Out-The-Vote (GOTV) interventions, while raising turnout overall, might be more effective on individuals with ex-ante higher voting propensities. This established finding has usually been interpreted to mean that GOTV interventions deepen, rather than ameliorate, turnout inequality, with implications ranging from unequal democratic inputs to redistributive outputs. We argue that mapping heterogeneous GOTV effects onto turnout inequality presents a conceptual and methodological challenge. We address this question by sharpening the conceptual framework, developing new statistical methods, and using a wider range of data sources. First, to identify heterogeneous GOTV effects, we stratify subjects into voting propensity bins, based on behavioural and demographic data from voter files, and conduct individual participant data meta-analysis of conditional GOTV treatment effects. We find that GOTV interventions are most effective on voters with intermediate voting propensities. Second, to draw implications for turnout inequality, we leverage a novel Gini-based measure of turnout inequality and simulate that, under different distributions of voting propensity types, GOTV interventions can either reduce or heighten turnout inequality. We then apply this novel measure to a comprehensive sample of GOTV field experiments, four times larger than those used in prior individual participant data meta-analyses: On average, GOTV lowers turnout inequality, reducing the over-representation of voters with the highest ex-ante voting propensities. These findings have powerful implications for inequality and democracy, and for the ethics of GOTV campaigns. </em></sub></p>
<h2 id="ai-generated-visuals-a-solution-for-image-demand-in-social-science-research" class="anchored">AI-Generated Visuals: A Solution for Image Demand in Social Science Research</h2>
<p>with <a href="https://www.ietchacq.com">Iris E. Acquarone</a>, <a href="https://www.gdilandro.com">Gonzalo Di Landro</a> and <a href="https://sites.google.com/view/nzilberstein/home">Nicolas Zilberstein</a></p>
<p><sub> <strong>Abstract:</strong> <em>Human interactions with the world have predominantly become mediated by visuals, leading to a growing demand for images in social science research. We explore the potential of AI-generated visuals to meet this demand. Using real images of British parliament members—one of the world’s largest national assemblies—and a stable diffusion model, we generate highly realistic synthetic representations of these legislators. Through two randomized control trials conducted online in the United Kingdom and the United States, we test the comparability of real and synthetic images in terms of perceptions of reality and relevant political attributes. Our results show that real and synthetic images are perceived similarly, with no significant differences in citizens’ evaluations of legislators’ attributes. This demonstrates the suitability and usefulness of AI-generated images for further research. We extend our work to various contexts and provide labeled visual data of potential legislators worldwide, offering a valuable resource to advance research in identity and politics within the social and experimental sciences. </em></sub></p>
<p><br> <br> <br></p>
<div class="column-page-inset text-center">
<a class="btn btn-outline" ,="" href="mailto:a.cinar@lse.ac.uk" target="_blank" rel="noopener noreferrer">
    <i class="ai bi-envelope" role="img" aria-label="email"></i>
    </a>
<a class="btn btn-outline" ,="" href="https://twitter.com/aslicerencinar" target="_blank" rel="noopener noreferrer">
    <i class="bi bi-twitter" role="img" aria-label="Twitter"></i>
</a>
<a class="btn btn-outline" ,="" href="https://www.linkedin.com/in/aslı-ceren-çınar-761082b9/" target="_blank" rel="noopener noreferrer">
    <i class="bi bi-linkedin" role="img" aria-label="LinkedIn"></i>
</a>



</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>